<form [formGroup]="form" class="background">
    <div class="form-group" formGroupName="userForm">
        <label for="email">E-mail:</label>
        <input type="email" formControlName="email" [(ngModel)]="emailAddress" id="email" class="form-control">
        <div *ngIf="email.touched && email.invalid" class="alert alert-danger">
            <div *ngIf="email.errors.email">E-mail is invalid.</div>
        </div>
        <div class="form-group" formGroupName="passwordForm">
            <label for="password">Password:</label>
            <input type="password" formControlName="password" id="password" [(ngModel)]="pwd" class="form-control">
            <div *ngIf="password.touched && password.invalid" class="alert alert-danger">
                <div *ngIf="password.errors.required">Password is a required field.</div>
                <div *ngIf="password.errors.minlength">Password should be a minimum of {{password.errors.minlength.requiredLength}} characters.</div>
            </div>
            <label for="confirmPassword">Confirm Password:</label>
            <input type="password" formControlName="confirmPwrd" id="confirmPassword" class="form-control">
            <div *ngIf="confirmPwrd.touched && confirmPwrd.invalid" class="alert alert-danger">
                <div *ngIf="confirmPwrd.errors.required">Confirm password is a required field.</div>

            </div>
            <div *ngIf="confirmPwrd.valid && passwordForm.invalid && passwordForm.errors.passwordMatches" class="alert alert-danger">Confirm password does not match password.</div>
        </div>
    </div>

    <div class="form-group">
        <label for="isBusiness"><input type="checkbox" id="isBusiness" [(ngModel)]="isBusiness" [ngModelOptions]="{standalone: true}" (click)="toggleUser()"/> Are you registering as a Business?</label>
    </div>



    <div *ngIf="isBusiness">
        <div class="form-group" formGroupName="businessForm">

            <label for="name">Business name:</label>
            <input type="text" formControlName="name" [(ngModel)]="businessName" id="name" class="form-control">
            <div *ngIf="name.touched && name.invalid" class="alert alert-danger">
                <div *ngIf="name.errors.required">Business name is a required field.</div>
                <div *ngIf="name.errors.minlength">Business name should be a minimum of {{name.errors.minlength.requiredLength}} characters.</div>
            </div>

            <label for="category">Category:</label>
            <select name="category" id="category" formControlName="category" [(ngModel)]="category" class="form-control">
              <option value="bank">Bank</option>
              <option value="hospital">Hospital</option>
              <option value="home-affairs">Home-affairs</option>
            </select>

            <label for="capacity">Capacity:</label>
            <input type="number" id="capacity" value="10" formControlName="capacity" [(ngModel)]="capacity" min=0 class="form-control">

            <div class="form-group">
                <!-- <input placeholder="search for location" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #search [formControl]="searchControl"> -->
                <input id="address" placeholder="Your business physical address and city" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #searchControl formControlName="searchControl" (keyup.enter)="log()">
            </div>

        </div>
    </div>

    <button class="btn btn-primary" type="button" [disabled]=" validForm()" (click)="register()">Register</button>
    <button class="btn btn-primary" type="button" [routerLink]="['/login']">Login</button>
</form>